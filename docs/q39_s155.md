# Q39.S155 contiguous alt-shift classification note
Goal: describe the structural picture that the contiguous alt-shift regime stays pinned at rank 2 and why the XOR step remains fully relativizing, so that the next barrier-aware step knows where to look for a non-relativizing witness.
Dependencies: `docs/q39_s154.md`, `scripts/toy_q39_rank2.py`, `formal/WIP/Verified/Q39.lean`.
Exact citations:
- Baker, Gill, Solovay (1975), *Relativizations of the P = ? NP Question* (Thm. 1, p.15) — the generic oracle `B` witnesses `P^B ≠ NP^B`, hence any XOR-based mapping that never leaves this contiguous regime cannot settle P vs NP.
- Katz (2005), *Relativizing the P vs. NP Question* (Claim 1, p.1) — the XOR construction retains its behavior under oracle augmentation, so the rank-2 certificates persist in the relativized worlds.
- Aaronson, Wigderson (2008), *Algebrization: A New Barrier in Complexity Theory* (Thm. 5.3, p.23) — even algebraic extensions of the XOR gates do not break the orbit.
Notes:
- The toys `scripts/toy_q39_rank2.py` keeps producing rank-2 outputs when sliding the contiguous alt-shift from alt54 through alt71 (see the Lean defs `Q39_globalfixedpair_fixedorientation_contiguous_shift_alt68` etc.). Each step adds the next `true` bit to the contiguous block while keeping global orientation fixed.
- The invariants that survive: every contiguous block admits a fixed orientation, the rank-2 witness is determined by two bit vectors with prefix `true` entries, and the XOR reduction uses only addition/log2 steps that commute with oracles, so the whole regime is relativization-safe.
- Classification: the contiguous regime can be labeled by the current shift index `alt`, and all measured invariants (rank, distribution of `true` bits) stay constant. No local perturbation has yet forced a non-relativizing transformation.
- Next step: either find a non-relativizing witness beyond this regime (see `Q39.S156-globalfixedpair-fixedorientation-contiguous-shift-alt69`), or show that any such extension still ties back to the same oracle-agnostic mapping.
BarrierCheck:
- Relativization:
  - Relativizes?: yes (the mapping uses only arithmetic/log2 and XOR syntax; adding oracle gates preserves the simulation of Gaussian elimination).
  - Known oracle counterexample: Baker–Gill–Solovay (1975) Thm. 1; Katz (2005) Claim 1.
  - Exit point: once we introduce an oracle-dependent gadget (e.g., interactive queries), this barrier is bypassed.
- NaturalProofs:
  - Applicable?: no.
- Algebrization:
  - Applicable?: yes (XOR + arithmetic is preserved by algebraic extension oracles, so AW08 Thm. 5.3 applies).
- Citations: [BGS75], [Katz05], [AW08]
