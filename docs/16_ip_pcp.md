## 16. IP = PSPACE и PCP (цитируется)

Эти теоремы не доказывают $\mathrm{P}\neq\mathrm{NP}$, но важны как:
- флагманские примеры **нерелятивизирующих** методов (через аритметизацию),
- источник центральных следствий (например, hardness of approximation).

### 16.1. Interactive proofs: IP

**Определение.** Язык $L$ принадлежит $\mathrm{IP}$, если существует
вероятностный полиномиальный верификатор $V$ и интерактивный протокол
с доказывающим $P$ (неограниченным), такой что:
- *(Полнота)* если $x\in L$, то существует стратегия $P$, при которой $V$ принимает с вероятностью $\ge 2/3$;
- *(Звуковость)* если $x\notin L$, то для любой стратегии $P$ верификатор принимает с вероятностью $\le 1/3$.

**Лемма 16.1 (легкая сторона).** $\mathrm{IP}\subseteq\mathrm{PSPACE}$.

*Доказательство.* Рассмотрим дерево всех возможных транскриптов протокола
(число раундов и длины сообщений полиномиальны).
Листы помечены 0/1 (reject/accept).
В узлах верификатора берём среднее по его случайным битам,
в узлах доказывающего — максимум по сообщению.
Значение корня равно оптимальной вероятности принятия.
Это значение вычисляется обходом в глубину, храня только текущий транскрипт
и счётчики; память $\mathrm{poly}(|x|)$ (время может быть экспоненциальным).
$\square$

**Теорема (Shamir, 1992; цитируется).** $\mathrm{PSPACE}\subseteq\mathrm{IP}$, поэтому $\mathrm{IP}=\mathrm{PSPACE}$.

### 16.2. Probabilistically Checkable Proofs: PCP

**Определение.** Класс $\mathrm{PCP}(r(n),q(n))$ состоит из языков, для которых
существует вероятностный полиномиальный верификатор, который использует
$r(n)$ случайных бит и запрашивает $q(n)$ битов «доказательства» (oracle access),
с полнотой/звуковостью как выше.

**Лемма 16.2 (легкая сторона).** $\mathrm{PCP}(O(\log n), O(1))\subseteq\mathrm{NP}$.

*Доказательство.* Пусть $L\in\mathrm{PCP}(r(n),q(n))$ при $r(n)=O(\log n)$
и $q(n)=O(1)$. NP‑верификатор угадывает строку доказательства $\pi$
(полиномиальной длины) и перебирает все $2^{r(|x|)}=\mathrm{poly}(|x|)$
случайные строки, симулируя верификатор $V$ с oracle‑доступом к $\pi$.
Принимаем, если доля принятий $\ge 2/3$. $\square$

**Теорема (PCP, Arora–Safra; ALMSS; Dinur; цитируется).**
\mathrm{NP}\subseteq\mathrm{PCP}(O(\log n), O(1)), поэтому \mathrm{NP}=\mathrm{PCP}(O(\log n), O(1)).

**Типовое следствие (формулировка‑шаблон).** Существует константа
$\varepsilon>0$, такая что задача отличить выполнимые 3CNF
от формул, у которых нельзя удовлетворить более чем $(1-\varepsilon)$ долю клауз,
NP‑трудна.

### 16.3–16.36. Исследовательские шаги (вынесены)

[Открыть файл](research/16_research_steps.md)
